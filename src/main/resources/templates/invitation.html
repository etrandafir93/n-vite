<!DOCTYPE html>
<html lang="uk" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text="${pageTitle} ?: 'Wedding Invitation'">Wedding Invitation</title>

    <!-- Шрифти -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

    <!-- Tailwind CDN (для швидкого перегляду). У проді краще збірка. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Playfair Display', 'Georgia', 'serif'],
                    },
                    colors: {
                        ink: '#0f172a',      // темний текст
                        mute: '#475569',     // приглушений
                        paper: '#fafafa',    // фон
                        accent: '#111827'    // лінії/акценти
                    }
                }
            }
        }
    </script>

    <style>
        /* Делікатний друкарський ритм для великих екранів */
        :root { --vr: 12px; } /* vertical rhythm step */
        @media (min-width: 640px) { :root { --vr: 14px; } }
        @media (min-width: 1024px){ :root { --vr: 16px; } }
    </style>
</head>

<body class="bg-paper text-ink antialiased">
<main class="min-h-screen flex items-center justify-center px-4 py-10">
    <section class="w-full max-w-2xl bg-white rounded-2xl shadow-sm ring-1 ring-black/5 p-8 sm:p-12">
        <!-- Імена -->
        <header class="text-center space-y-[calc(var(--vr)*1.5)]">
            <h1 class="font-serif text-[clamp(28px,6vw,54px)] leading-tight tracking-tight">
                <span th:text="${groom_name} ?: 'Anna'">Anna</span>
                <span class="mx-2 font-sans text-[clamp(18px,3vw,22px)] font-light align-[8%]">and</span>
                <span th:text="${bride_name} ?: 'Richard'">Richard</span>
            </h1>
            <p class="text-mute text-[clamp(14px,2.2vw,16px)]">
                Please join us as we celebrate our marriage
            </p>
        </header>

        <!-- Дата / День тижня / Місяць -->
        <section class="mt-[calc(var(--vr)*4)] grid grid-cols-3 items-stretch gap-6">
            <div class="flex flex-col justify-center text-center border-t border-b border-accent/20 py-4">
                <span class="text-[clamp(11px,1.8vw,12px)] uppercase tracking-[0.2em] text-mute">Sunday</span>
            </div>

            <div class="relative text-center">
                <div class="absolute inset-x-0 top-1/2 -translate-y-1/2 h-px bg-accent/10" aria-hidden="true"></div>
                <div class="relative inline-flex flex-col items-center justify-center rounded-2xl border border-accent/15 bg-white px-6 py-5 shadow-[0_1px_0_0_rgba(0,0,0,.03)]">
                    <span class="text-[clamp(34px,8vw,56px)] font-semibold leading-none" th:text="${#dates.format(event_date,'d')}">10</span>
                    <span class="text-[clamp(10px,1.6vw,12px)] uppercase tracking-[0.18em] text-mute" th:text="${#dates.format(event_date,'yyyy')}">2023</span>
                </div>
            </div>

            <div class="flex flex-col justify-center text-center border-t border-b border-accent/20 py-4">
          <span class="text-[clamp(11px,1.8vw,12px)] uppercase tracking-[0.2em] text-mute"
                th:text="${#dates.format(event_date,'MMMM')}">December</span>
            </div>
        </section>

        <!-- Час і адреса -->
        <section class="mt-[calc(var(--vr)*4)] text-center space-y-[calc(var(--vr)*1.2)]">
            <p class="text-[clamp(14px,2.2vw,16px)]">
                at <span class="font-semibold" th:text="${#dates.format(event_date,'h')}">9</span>
                in the <span class="font-semibold" th:text="${#dates.format(event_date,'a').toLowerCase()}">morning</span>
            </p>
            <p class="font-medium text-[clamp(15px,2.4vw,18px)]" th:text="${event_location} ?: '123 Anywhere St, Any City'">
                123 Anywhere St, Any City
            </p>
            <p class="italic text-mute">Reception to follow</p>
        </section>

        <!-- Роздільник -->
        <div class="my-[calc(var(--vr)*4)] h-px bg-accent/10"></div>

        <!-- Кнопка RSVP -->
        <section class="text-center">
            <form th:action="@{'/invitations/' + ${event_reference} + '/responses'}" method="post" class="inline-flex gap-3">
                <button type="submit" name="rsvp" value="DECLINED"
                        class="inline-flex items-center justify-center rounded-xl border border-accent/20 bg-white px-6 py-3 text-[15px] hover:bg-gray-50 transition">
                    Decline
                </button>
                <button type="submit" name="rsvp" value="ACCEPTED"
                        class="inline-flex items-center justify-center rounded-xl bg-black px-6 py-3 text-[15px] text-white hover:opacity-90 transition">
                    Accept
                </button>
            </form>
        </section>

        <!-- Дрібні деталі -->
        <footer class="mt-[calc(var(--vr)*4)] text-center text-[12px] text-mute">
            <span th:if="${event_reception}" th:text="${event_reception}">Reception venue · details inside</span>
        </footer>
    </section>
</main>
</body>
</html>
